<div class="container">
    <div *ngFor="let tour of tours">
        <div class="tour-info" (click)="toggleTourDetails(tour.id)">
            <div class="test">
                <div class="icon-title">
                    <img src="assets/icons/roadmap.png" alt="" width="30px" />
                    <h5 class="tour-num">{{ tour.name }}</h5>
                </div>
                <span id="tour-date">14 Jan 2024</span>
            </div>

            <div class="test">
                <div class="icon-title">
                    <img src="assets/icons/delivery.png" alt="" width="30px" />
                    <h5>Deliverise Name</h5>
                </div>
                <ul>
                    <li>Alice</li>
                    <li>Bob</li>
                    <mat-icon class="add-icon">add</mat-icon>
                </ul>
            </div>

            <div class="test">
                <div class="icon-title">
                    <img src="assets/icons/truck.png" alt="" width="30px" />
                    <h5>Truck ID</h5>
                </div>
                <select name="" id="">
                    <optgroup label="Trucks IDs">
                        <option value="1">T001</option>
                        <option value="2">T002</option>
                        <option value="3">T003</option>
                    </optgroup>
                </select>
            </div>

            <div class="test">
                <div class="icon-title">
                    <img src="assets/icons/road-map.png" alt="" width="30px" />
                    <h5>Distance</h5>
                </div>
                <span id="distance">{{ tour.info.distance }}</span>
            </div>

            <div class="test">
                <div class="icon-title">
                    <img
                        src="assets/icons/stop-watch.png"
                        alt=""
                        width="30px"
                    />
                    <h5>Start Time</h5>
                </div>
                <span id="start-time">{{ tour.info.startTime }}</span>
            </div>

            <div class="test">
                <div class="icon-title">
                    <img
                        src="assets/icons/time-manager.png"
                        alt=""
                        width="30px"
                    />
                    <h5>End Time</h5>
                </div>
                <span id="end-time">{{ tour.info.endTime }}</span>
            </div>

            <div class="test">
                <div class="icon-title">
                    <img src="assets/icons/hourglass.png" alt="" width="30px" />
                    <h5>Duration</h5>
                </div>
                <span id="needed-time">{{ tour.info.duration }}</span>
            </div>
        </div>

        <!-- =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* -->
        <!--              Start  details for each tour          -->
        <!-- =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* -->
        <div class="tour-details" *ngIf="tour.detailsVisible">
            <table
                cdkDropList
                [cdkDropListData]="tour.info.deliveries"
                (cdkDropListDropped)="drop($event)"
            >
                <tr>
                    <th>Delivery</th>
                    <th>Adress</th>
                    <th>Status</th>
                </tr>
                <tr cdkDrag *ngFor="let delivery of tour.info.deliveries">
                    <td>{{ delivery.id }}</td>
                    <td>{{ delivery.address }}</td>
                    <td>{{ delivery.status }}</td>

                    <ng-template cdkDragPreview>
                        <table>
                            <tr>
                                <td>{{ delivery.id }}</td>
                                <td>{{ delivery.address }}</td>
                                <td>{{ delivery.status }}</td>
                            </tr>
                        </table>
                    </ng-template>
                </tr>
            </table>
        </div>
    </div>
    <!-- =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* -->
    <!--                End details for each tour           -->
    <!-- =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* -->
</div>

<!-- =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* -->
<!--                 Panel de controle                  -->
<!-- =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* -->
<br /><br /><br />
<div class="container">
    <div class="control-panel">
        <div class="buttons">
            <button mat-stroked-button (click)="optimizeButton()">
                Optimize
            </button>
            <button mat-stroked-button>Validate</button>
            <button mat-stroked-button>Confirm</button>
        </div>
    </div>
</div>

<!-- <h1>Data from API</h1>
<div>
    {{ data | json }}
</div>
<ng-template #loading><p>Loading...</p></ng-template> -->
